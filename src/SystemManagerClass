/*
 * Fawad Shahzad ID 18265693
 */

import java.util.*;
import java.awt.event.KeyEvent;
import java.awt.event.KeyAdapter;
import java.util.Random;
import java.lang.*;
import java.io.File;  // Import the File class
import java.io.IOException;  // Import the IOException class to handle errors
import java.util.Scanner; // Import the Scanner class to read text files
import java.io.FileWriter;   // Import the FileWriter class
import java.io.FileNotFoundException;  // Import this class to handle errors


public class SystemManagerClass extends OwnerClass {
	private List<PropertyClass> properties=new ArrayList<PropertyClass>();
	private static List<OwnerClass> owners = new ArrayList<OwnerClass>();
	private static OwnerClass owner = new OwnerClass();
	
	public SystemManagerClass() {
		
	}
	
	public static void updatePaymentsData() {
		String line;
		//set for getting input values
        Scanner sc= new Scanner(System.in);
        //for random values.
        Random rand = new Random();
        String ownerId,owner;
        System.out.println("Enter Owner Details For Whom You want to Update:");
        System.out.println("Owner Id:");
        ownerId = sc.nextLine();
        System.out.println("Owner Name:");   
        owner = sc.nextLine();
        
        String sId="",postCode="",address="",lCategory="",payment="";
        String own="";
        String ownId="";        
        int indexer = 0;
        int pointer = 0;
        //Reading a file        
	      try {	    	  
	    	  int index = 0,runner = 0;
	      File myObj = new File("paymentRecord.txt");
	      Scanner myReader = new Scanner(myObj);
	      while (myReader.hasNextLine()) {
	        line = myReader.nextLine();
	        index = 0;
	        runner = 0;
	        for(int k=0;k<line.length();k++) {
	        	if(index < 6) {	        		
	        		if(line.charAt(k)==44) {
	        			if(index==0) {
	        				sId = line.substring(0,k);			        		
	        			}
	        			if(index==1) {
		        			ownId = line.substring(runner,k);			        		
		        		}
		        		if(index==2) {
		        			own = line.substring(runner,k);			        		
		        		}
		        		if(index==3) {
		        			postCode = line.substring(runner,k);				        		
		        		}
		        		if(index==4) {
		        			address = line.substring(runner,k);			        			
		        		}
		        		if(index==5) {
		        			lCategory = line.substring(runner,k);			        			
		        		}
		        		runner = k+1;
		        		index++;
		        	}	        	
	        		if(index==6) {
	        			payment = line.substring(runner,line.length());			        			
	        			break;
	        		}
	        	}	        	
	        }	  
	        if(owner.equals(own)&&ownerId.equals(ownId)) {
	        	pointer = indexer;
	        	break;
	        }
	       indexer++;      
	      }
	      myReader.close();
	    } catch (FileNotFoundException e) {
	      System.out.println("An error occurred.");
	      e.printStackTrace();
	    }
	      
	
	  	
	  	String newPayment;
        System.out.println("Enter Updated Payment:");
        newPayment = sc.nextLine();	       	    
	      
	    String[] newData = new String[100];	    
	    int g=0,r=0,inputRunner = 0;
	    //Reading a file
	      try {
	      File myObj = new File("paymentRecord.txt");
	      Scanner myReader = new Scanner(myObj);
	      while (myReader.hasNextLine()) {
	    	if(r!=pointer) {
	    		newData[g] = myReader.nextLine()+"\n";	    		
	    		inputRunner = g;	    			    		
	    	}
	    	else {
	    		myReader.nextLine();
	    		newData[g]=sId+","+ownerId+","+owner+","+postCode+","+address+","+lCategory+","+newPayment+"\n";
	    	}
	    	
	    	r++;     
	    	g++;
	      }
	      myReader.close();
	    } catch (FileNotFoundException e) {
	      System.out.println("An error occurred.");
	      e.printStackTrace();
	    }	
	    	 
	      //writing in the file
        try {
            FileWriter myWriter = new FileWriter("paymentRecord.txt");
            for(int j=0;j<=inputRunner;j++) {
            	myWriter.write(newData[j]);
            }
            
            myWriter.close(); 
            System.out.println("Payment Data is updated successfully.");
          } catch (IOException e) {
            System.out.println("An error occurred.");
            e.printStackTrace();
          }
		
	}
	
	public static void updatePropertyData() {
		String line;
		//set for getting input values
        Scanner sc= new Scanner(System.in);
        //for random values.
        Random rand = new Random();
        String owner,postCode,address;
        System.out.println("Enter Property Details you want to Update:");
        System.out.println("Property Owner:");
        owner = sc.nextLine();
        System.out.println("PostCode/EirCode:");   
        postCode = sc.nextLine();
        System.out.println("Address:");     
        address = sc.nextLine();
              
        String own="";
        String add = "";
        String postCd = "";
        int indexer = 0;
        int pointer = 0;
        //Reading a file        
	      try {	    	  
	    	  int index = 0,runner = 0;
	      File myObj = new File("data.txt");
	      Scanner myReader = new Scanner(myObj);
	      while (myReader.hasNextLine()) {
	        line = myReader.nextLine();
	        index = 0;
	        runner = 0;
	        for(int k=0;k<line.length();k++) {
	        	if(index < 3) {	        		
	        		if(line.charAt(k)==44) {
	        			if(index==0) {
	        				own = line.substring(0,k);			        		
	        			}		        		
		        		if(index==1) {
		        			add = line.substring(runner,k);			        		
		        		}
		        		if(index==2) {
		        			postCd = line.substring(runner,k);			        		
			        		break;
		        		}
		        		runner = k+1;
		        		index++;
		        	}	        		
	        	}	        	
	        }	  
	        if(owner.equals(own)&&postCode.equals(postCd)&&address.equals(add)) {
	        	pointer = indexer;
	        	break;
	        }
	       indexer++;      
	      }
	      myReader.close();
	    } catch (FileNotFoundException e) {
	      System.out.println("An error occurred.");
	      e.printStackTrace();
	    }
	      
	      
	      
	     
	      	String newName,newAddress,newPostCode,newLocation;
	        double newMarketValue;
	        System.out.println("New Property Owner:");
	        newName = sc.nextLine();
	        System.out.println("New Address:");
	        newAddress = sc.nextLine();     
	        System.out.println("New PostCode/EirCode:");
	        newPostCode = sc.nextLine();
	        System.out.println("New Market Value:");
	        newMarketValue = sc.nextDouble();
	        System.out.println("New Location Category:");        
	        newLocation = sc.nextLine();
	        newLocation = sc.nextLine();	       	    
	      
	    String[] newData = new String[100];	    
	    int g=0,r=0,inputRunner = 0;
	    //Reading a file
	      try {
	      File myObj = new File("data.txt");
	      Scanner myReader = new Scanner(myObj);
	      while (myReader.hasNextLine()) {
	    	if(r!=pointer) {
	    		newData[g] = myReader.nextLine()+"\n";	    		
	    		inputRunner = g;	    			    		
	    	}
	    	else {
	    		myReader.nextLine();
	    		newData[g]=newName+","+newAddress+","+newPostCode+","+newMarketValue+","+newLocation+"\n";
	    	}
	    	
	    	r++;     
	    	g++;
	      }
	      myReader.close();
	    } catch (FileNotFoundException e) {
	      System.out.println("An error occurred.");
	      e.printStackTrace();
	    }	
	    	 
	      //writing in the file
        try {
            FileWriter myWriter = new FileWriter("data.txt");
            for(int j=0;j<=inputRunner;j++) {
            	myWriter.write(newData[j]);
            }
            
            myWriter.close(); 
            System.out.println("Property Data is updated successfully.");
          } catch (IOException e) {
            System.out.println("An error occurred.");
            e.printStackTrace();
          }
		
	}
	
	public static void updateOwnersData() {
		String line;
		//set for getting input values
        Scanner sc= new Scanner(System.in);
        //for random values.
        Random rand = new Random();
        int id;
        System.out.println("Enter Owner Email you want to Update:");
        System.out.println("Owner id:");
        id = sc.nextInt();
                      
        String own="";        
        int indexer = 0;
        int pointer = 0;
        //Reading a file        
	      try {	    	  
	    	  int index = 0,runner = 0;
	      File myObj = new File("owners.txt");
	      Scanner myReader = new Scanner(myObj);
	      while (myReader.hasNextLine()) {
	        line = myReader.nextLine();
	        index = 0;
	        runner = 0;
	        for(int k=0;k<line.length();k++) {
	        	if(index < 3) {	        		
	        		if(line.charAt(k)==44) {	        			
        				own = line.substring(0,k);
        				break;	        			
		        	}	        		
	        	}	        	
	        }
	        int ownInteger = Integer.parseInt(own);
	        if(id==ownInteger) {
	        	pointer = indexer;
	        	break;
	        }
	       indexer++;      
	      }
	      myReader.close();
	    } catch (FileNotFoundException e) {
	      System.out.println("An error occurred.");
	      e.printStackTrace();
	    }
	      
	      
	      
	     
	      	String newId,newName,newAge;	        
	        System.out.println("New Owner Id:");
	        newId = sc.nextLine();
	        System.out.println("New Owner Name:");
	        newName = sc.nextLine();     
	        System.out.println("New Owner Age:");
	        newAge = sc.nextLine();	              	   
	      
	    String[] newData = new String[100];	    
	    int g=0,r=0,inputRunner = 0;
	    //Reading a file
	      try {
	      File myObj = new File("owners.txt");
	      Scanner myReader = new Scanner(myObj);
	      while (myReader.hasNextLine()) {
	    	if(r!=pointer) {
	    		newData[g] = myReader.nextLine()+"\n";	    		
	    		inputRunner = g;	    			    		
	    	}
	    	else {
	    		myReader.nextLine();
	    		newData[g]=newId+","+newName+","+newAge+"\n";
	    	}
	    	
	    	r++;     
	    	g++;
	      }
	      myReader.close();
	    } catch (FileNotFoundException e) {
	      System.out.println("An error occurred.");
	      e.printStackTrace();
	    }	
	    
	    System.out.println(inputRunner);
	      //writing in the file
        try {
            FileWriter myWriter = new FileWriter("owners.txt");
            for(int j=0;j<=inputRunner;j++) {
            	myWriter.write(newData[j]);
            }
            
            myWriter.close(); 
            System.out.println("Owner Data is updated successfully.");
          } catch (IOException e) {
            System.out.println("An error occurred.");
            e.printStackTrace();
          }
		
	}
	
	public static double calculateTax(String propertyPostCode,double value,String location) {
		double tax =0;
		if(value<=150000) {
			tax = 0;
		}
		else if(value>=150000&&value<=400000){
			tax = (value*0.01)/100;
		}
		else if(value>=400001&&value<=650000) {
			tax = (value*0.02)/100;
		}
		else {
			tax = (value*0.04)/100;
		}
		
		double locationTax = 0;
		if(location.equals("City")||location.equals("city")) {
			locationTax = 100;
		}
		else if(location.equals("large town")||location.equals("Large town")){
			locationTax = 80;
		}
		else if(location.equals("small town")||location.equals("Small town")) {
			locationTax = 60;
		}
		else if(location.equals("village")||location.equals("Village")){
			locationTax = 50;
		}
		double valueTax=tax;
		tax = tax+locationTax;
		
		
		String [] data = new String[100];
		//Reading a file
        int i=0;
	      try {
	      File myObj = new File("taxDetails.txt");
	      Scanner myReader = new Scanner(myObj);
	      while (myReader.hasNextLine()) {
	        data[i] = myReader.nextLine();	 
	        i++;
	      }
	      myReader.close();
	    } catch (FileNotFoundException e) {
	      System.out.println("An error occurred.");
	      e.printStackTrace();
	    }
	    data[i] = propertyPostCode+","+location+","+String.valueOf(value)+","+String.valueOf(valueTax)+","+String.valueOf(locationTax)+","+String.valueOf(tax)+"\n";
	      
	      
	      //writing in the file
        try {
            FileWriter myWriter = new FileWriter("taxDetails.txt");
            for(int j=0;j<=i;j++) {
            	myWriter.write(data[j]);
            }
            
            myWriter.close(); 
            System.out.println("Property Tax is Added successfully.");
          } catch (IOException e) {
            System.out.println("An error occurred.");
            e.printStackTrace();
          }
		
		
		return tax;
		
	}
	
	public static void makePayment(String rupees) {
		String line;
		//set for getting input values
        Scanner sc= new Scanner(System.in);
        //for random values.
        Random rand = new Random();
		String sId, ownerId,owner,postCode,address,lCategory;
		System.out.println("Sales Id:");
        sId = sc.nextLine();
        System.out.println("Owner Id:");
        ownerId = sc.nextLine();
        System.out.println("Owner Name:");
        owner = sc.nextLine();
        System.out.println("Property PostCode/EirCode:");
        postCode = sc.nextLine();
        System.out.println("Property Address:");
        address = sc.nextLine();
        System.out.println("Location Category:");
        lCategory = sc.nextLine();
        System.out.println("Enter Payment:");
        rupees = sc.nextLine();
        
        
		String [] data = new String[100];
		
        //Reading a file
        int i=0;
	      try {
	      File myObj = new File("paymentRecord.txt");
	      Scanner myReader = new Scanner(myObj);
	      while (myReader.hasNextLine()) {
	        data[i] = myReader.nextLine();	 
	        i++;
	      }
	      myReader.close();
	    } catch (FileNotFoundException e) {
	      System.out.println("An error occurred.");
	      e.printStackTrace();
	    }
	      
	    data[i] = sId+","+ownerId+","+owner+","+postCode+","+address+","+lCategory+","+rupees+"\n";
	      
	      
	      //writing in the file
        try {
            FileWriter myWriter = new FileWriter("paymentRecord.txt");
            for(int j=0;j<=i;j++) {
            	myWriter.write(data[j]);
            }
            
            myWriter.close(); 
            System.out.println("Payment is maked is registered successfully.");
          } catch (IOException e) {
            System.out.println("An error occurred.");
            e.printStackTrace();
          }
          return;
        
		
	}
	
	public static void getPaymentData() {
		
		String line;
		String salesId="";
		String ownerId = "";
		String own="";
        String add = "";
        String postCd = "";
        String payment = "";
        String location = "";	
        int checker = 0;
        //Reading a file        
	      try {	    	  
	    	  int index = 0,runner = 0;
	      File myObj = new File("paymentRecord.txt");
	      Scanner myReader = new Scanner(myObj);
	      while (myReader.hasNextLine()) {
	        line = myReader.nextLine();
	        index = 0;
	        runner = 0;
	        for(int k=0;k<line.length();k++) {
	        	if(index < 6) {	        		
	        		if(line.charAt(k)==44) {
	        			if(index==0) {
	        				salesId = line.substring(0,k);			        		
	        			}
	        			if(index==1) {
		        			ownerId = line.substring(runner,k);			        		
		        		}
		        		if(index==2) {
		        			own = line.substring(runner,k);			        		
		        		}
		        		if(index==3) {
		        			postCd = line.substring(runner,k);				        		
		        		}
		        		if(index==4) {
		        			add = line.substring(runner,k);			        			
		        		}
		        		if(index==5) {
		        			location = line.substring(runner,k);			        			
		        		}
		        		runner = k+1;
		        		index++;
		        	}	        	
	        		if(index==6) {
	        			payment = line.substring(runner,line.length());			        			
	        			break;
	        		}
	        	}	        	
	        }
	        checker++;
	        System.out.println("Property Number: "+checker+"\nSales Id: "+salesId+"\nOwner Id: "+ownerId+"\nOwner Name: "+own+"\nProperty PostCode: "+postCd+"\nAddress : "
	        +add+"\nLocation Category: "+location+"\nPayment: "+payment);
	      }
	      myReader.close();
	    } catch (FileNotFoundException e) {
	      System.out.println("An error occurred.");
	      e.printStackTrace();
	    }
	}
	
	public static void getPaymentData(String owner) {
		
		String line;
		String salesId="";
		String ownerId = "";
		String own="";
        String add = "";
        String postCd = "";
        String payment = "";
        String location = "";
        
        int indexer = 0;
        int pointer = 0;
        //Reading a file        
	      try {	    	  
	    	  int index = 0,runner = 0;
	      File myObj = new File("paymentRecord.txt");
	      Scanner myReader = new Scanner(myObj);
	      while (myReader.hasNextLine()) {
	        line = myReader.nextLine();
	        index = 0;
	        runner = 0;
	        for(int k=0;k<line.length();k++) {
	        	if(index < 3) {	        		
	        		if(line.charAt(k)==44) {	        			
		        		if(index==2) {
		        			own = line.substring(runner,k);			        		
			        		break;
		        		}
		        		runner = k+1;
		        		index++;
		        	}	        		
	        	}	        	
	        }	  
	        if(owner.equals(own)) {
	        	pointer = indexer;
	        	break;
	        }
	       indexer++;      
	      }
	      myReader.close();
	    } catch (FileNotFoundException e) {
	      System.out.println("An error occurred.");
	      e.printStackTrace();
	    }
	      
	      	      	      	 
	    
	    int r=0;
	    //Reading a file
	      try {
	      File myObj = new File("paymentRecord.txt");
	      Scanner myReader = new Scanner(myObj);
	      while (myReader.hasNextLine()) {
	    	line = myReader.nextLine();
	    	if(r==pointer) {
	    		 int index = 0;
	 	        int runner = 0;
	 	        for(int k=0;k<line.length();k++) {
	 	        	if(index < 6) {	        		
	 	        		if(line.charAt(k)==44) {
	 	        			if(index==0) {
	 	        				salesId = line.substring(0,k);			        		
	 	        			}
	 	        			if(index==1) {
	 		        			ownerId = line.substring(runner,k);			        		
	 		        		}
	 		        		if(index==2) {
	 		        			own = line.substring(runner,k);			        		
	 		        		}
	 		        		if(index==3) {
	 		        			postCd = line.substring(runner,k);				        		
	 		        		}
	 		        		if(index==4) {
	 		        			add = line.substring(runner,k);			        			
	 		        		}
	 		        		if(index==5) {
	 		        			location = line.substring(runner,k);			        			
	 		        		}
	 		        		runner = k+1;
	 		        		index++;
	 		        	}	        	
	 	        		if(index==6) {
	 	        			payment = line.substring(runner,line.length());			        			
	 	        			break;
	 	        		}
	 	        	}	        	
	 	        }	 	        
	 	        System.out.println("Sales Id: "+salesId+"\nOwner Id: "+ownerId+"\nOwner Name: "+own+"\nProperty PostCode: "+postCd+"\nAddress : "
	 	        +add+"\nLocation Category: "+location+"\nPayment: "+payment);
	    	}
	    		    
	    	r++;     
	      }
	      myReader.close();
	    } catch (FileNotFoundException e) {
	      System.out.println("An error occurred.");
	      e.printStackTrace();
	    }	
	    	    

	}
	
	public static double getAllOverDues() {
		String line;		
        String payment = "";
        double totalDues = 0;        
        //Reading a file        
	      try {	    	  
	    	  int index = 0,runner = 0;
	      File myObj = new File("paymentRecord.txt");
	      Scanner myReader = new Scanner(myObj);
	      while (myReader.hasNextLine()) {
	        line = myReader.nextLine();
	        index = 0;
	        runner = 0;
	        for(int k=0;k<line.length();k++) {
	        	if(index < 6) {	        		
	        		if(line.charAt(k)==44) {	        		
		        		runner = k+1;
		        		index++;
		        	}	        	
	        		if(index==6) {
	        			payment = line.substring(runner,line.length());
	        			totalDues=totalDues+Double.valueOf(payment);
	        			break;
	        		}
	        	}	        	
	        }	        	       
	      }
	      myReader.close();
	    } catch (FileNotFoundException e) {
	      System.out.println("An error occurred.");
	      e.printStackTrace();
	    }
	      
	      return totalDues;
	}
	
	public static void getTaxStats() {
		String line;
		String value="";		
        String postCd = "";
        String tax = "";
        String location = "";	
        String valueTax = "";
        String locationTax = "";
        int checker = 0;
        //Reading a file        
	      try {	    	  
	    	  int index = 0,runner = 0;
	      File myObj = new File("taxDetails.txt");
	      Scanner myReader = new Scanner(myObj);
	      while (myReader.hasNextLine()) {
	        line = myReader.nextLine();
	        index = 0;
	        runner = 0;
	        for(int k=0;k<line.length();k++) {
	        	if(index < 5) {	        		
	        		if(line.charAt(k)==44) {
	        			if(index==0) {
	        				postCd = line.substring(0,k);			        		
	        			}
	        			if(index==1) {
		        			location = line.substring(runner,k);			        		
		        		}
		        		if(index==2) {
		        			value = line.substring(runner,k);			        		
		        		}
		        		if(index==3) {
		        			valueTax = line.substring(runner,k);			        		
		        		}
		        		if(index==4) {
		        			locationTax = line.substring(runner,k);			        		
		        		}
		        		runner = k+1;
		        		index++;
		        	}	        	
	        		if(index==5) {
	        			tax = line.substring(runner,line.length());			        			
	        			break;
	        		}
	        	}	        	
	        }
	        checker++;
	        System.out.println("\nProperty PostCode: "+postCd+"\nLocation Category: "+location+"\nMarket Value: "+value+"\nValue Tax: "+valueTax+"\nLocation Tax: "+locationTax+"\nTotal Tax: "+tax);
	      }
	      myReader.close();
	    } catch (FileNotFoundException e) {
	      System.out.println("An error occurred.");
	      e.printStackTrace();
	    }
	}
	
	public boolean ownerExists(String name,int id) {		
		return true;
	}
	
	public static boolean transferOwnerShip() {
		String line;
		//set for getting input values
        Scanner sc= new Scanner(System.in);
        //for random values.
        Random rand = new Random();
        String salesId,owner,pstCode,lCatg;
        System.out.println("Enter Property Details For Which You Want To Change OwnerShip:");
        System.out.println("Sales Id:");
        salesId = sc.nextLine();
        System.out.println("Owner Name:");   
        owner = sc.nextLine();
        System.out.println("Property EirCode/PostCode:");
        pstCode = sc.nextLine();
        System.out.println("Property Location Category:");   
        lCatg = sc.nextLine();
        
        String sId="",postCode="",address="",lCategory="",payment="";
        String own="";
        String ownId="";        
        int indexer = 0;
        int pointer = 0;
        //Reading a file        
	      try {	    	  
	    	  int index = 0,runner = 0;
	      File myObj = new File("paymentRecord.txt");
	      Scanner myReader = new Scanner(myObj);
	      while (myReader.hasNextLine()) {
	        line = myReader.nextLine();
	        index = 0;
	        runner = 0;
	        for(int k=0;k<line.length();k++) {
	        	if(index < 6) {	        		
	        		if(line.charAt(k)==44) {
	        			if(index==0) {
	        				sId = line.substring(0,k);			        		
	        			}
	        			if(index==1) {
		        			ownId = line.substring(runner,k);			        		
		        		}
		        		if(index==2) {
		        			own = line.substring(runner,k);			        		
		        		}
		        		if(index==3) {
		        			postCode = line.substring(runner,k);				        		
		        		}
		        		if(index==4) {
		        			address = line.substring(runner,k);			        			
		        		}
		        		if(index==5) {
		        			lCategory = line.substring(runner,k);			        			
		        		}
		        		runner = k+1;
		        		index++;
		        	}	        	
	        		if(index==6) {
	        			payment = line.substring(runner,line.length());			        			
	        			break;
	        		}
	        	}	        	
	        }	  
	        if(owner.equals(own)&&salesId.equals(sId)&&pstCode.equals(postCode)&&lCatg.equals(lCategory)) {
	        	pointer = indexer;
	        	break;
	        }
	       indexer++;      
	      }
	      myReader.close();
	    } catch (FileNotFoundException e) {
	      System.out.println("An error occurred.");
	      e.printStackTrace();
	    }
	      
	
	  	
	  	String newOwnerId,newOwner;
        System.out.println("Enter New Owner Id:");
        newOwnerId = sc.nextLine();	       	  
        System.out.println("Enter New Owner Name:");
        newOwner = sc.nextLine();
	      
	    String[] newData = new String[100];	    
	    int g=0,r=0,inputRunner = 0;
	    //Reading a file
	      try {
	      File myObj = new File("paymentRecord.txt");
	      Scanner myReader = new Scanner(myObj);
	      while (myReader.hasNextLine()) {
	    	if(r!=pointer) {
	    		newData[g] = myReader.nextLine()+"\n";	    		
	    		inputRunner = g;	    			    		
	    	}
	    	else {
	    		myReader.nextLine();
	    		newData[g]=sId+","+newOwnerId+","+newOwner+","+postCode+","+address+","+lCategory+","+payment+"\n";
	    	}
	    	
	    	r++;     
	    	g++;
	      }
	      myReader.close();
	    } catch (FileNotFoundException e) {
	      System.out.println("An error occurred.");
	      e.printStackTrace();
	    }	
	    	 
	      //writing in the file
        try {
            FileWriter myWriter = new FileWriter("paymentRecord.txt");
            for(int j=0;j<=inputRunner;j++) {
            	myWriter.write(newData[j]);
            }
            
            myWriter.close(); 
            System.out.println("OwnerShip Updated is updated successfully.");
          } catch (IOException e) {
            System.out.println("An error occurred.");
            e.printStackTrace();
          }
		return true;
	}
	public static void main(String[] args) {
		//set for getting input values
        Scanner sc= new Scanner(System.in);
        //for random values.
        Random rand = new Random();
        
        String email;
        String password;
        System.out.println("Welcome To Property Charge Management System");
        System.out.println("1) SignIn");        
        System.out.println("Enter 1 to sign in:");
        int option = sc.nextInt();
        if(option==1) {                
        	System.out.println("Login");
            System.out.println("Write your Email");
            email = sc.next();
            System.out.println("Password");
            password = sc.next();
            if((email.equals("fawad"))&&(password.equals("1234"))) {
            	again:
            	while(true) {            		
            		int againOption;
                	System.out.println("1) Register A Property");
                    System.out.println("2) UnRegister A Property");
                    System.out.println("3) Update A Property");
                    System.out.println("4) Update Payment Data");
                    System.out.println("5) Update Owners Data");
                    System.out.println("6) View All Properties");
                    System.out.println("7) View All Payment Data");
                    System.out.println("8) View A Specific Owner's Payment Data");
                    System.out.println("9) View Over Dues");
                    System.out.println("10) View All Tax States");
                    System.out.println("11) Change OwnerShip");                  
                    System.out.println("12) Make Payment");
                    System.out.println("13) Check the Balance Sheet");
                    System.out.println("14) Calculate The Tax");
                    System.out.println("15) Exit");
                    System.out.println("Enter Choice:");
                    againOption= sc.nextInt();
                    if(againOption==1) {
                    	  owner.registerProperty();                    	  
                    }
                    else if(againOption==2) {
                    	owner.unRegisterProperty();               
                    }
                    else if(againOption==3) {
                    	updatePropertyData();
                    }
                    else if(againOption==4) {
                    	updatePaymentsData();
                    }
                    else if(againOption==5) {
                    	updateOwnersData();
                    }
                    else if(againOption==6) {
                    	owner.viewPorperties();                    	
                    }                    
                    else if(againOption==7) {
                    	System.out.println("All Payment Data:");
                    	getPaymentData();
                    }                                       
                    else if(againOption==8) {                    
                        String ownerName;
                        System.out.println("Enter Owner Name For Whom you want to Check Payment Data:");
                        System.out.println("Property Owner:");
                        ownerName = sc.nextLine();
                        ownerName = sc.nextLine();
                        getPaymentData(ownerName);
                    }
                    else if(againOption==9) {
                    	System.out.println("Total All Over Dues Are "+getAllOverDues());
                    }                    
                    else if(againOption==10) {
                    	getTaxStats();
                    }
                    else if(againOption==11) {
                    	transferOwnerShip();
                    }                    
                    else if(againOption==12) {
                    	 String payment="";                         
                    	makePayment(payment);
                    }
                    else if(againOption==13) {
                    	owner.balanceSheet();                    	
                    }
                    else if(againOption==14) {                    	
                    	String postCode,locationCategory;
                    	double marketValue;
                        System.out.println("Enter Property Post Code:");
                        postCode = sc.nextLine();
                        postCode = sc.nextLine();
                        System.out.println("Enter Location Category:");
                        locationCategory = sc.nextLine();
                        System.out.println("Enter Market Value Of Property");
                        marketValue = sc.nextDouble();
                        calculateTax(postCode,marketValue,locationCategory);                    	
                    }
                    else {                    	
                    	System.exit(0);
                    }
            	}            	
            }
            else {
            	System.out.println("Sorry You Entered Wrong Credentials. Enter Again");
            	System.exit(0);
            }
        }
        else {
        	System.exit(0);
        }
              
        
		
	}
	
	
}
